<?xml version="1.0" encoding="iso-8859-2"?>
<project name="Projekt1-Ant" basedir=".">
        <description>Projekt1-Ant utrzymywany przy pomocy Ant</description>

    	<property name="produkt" value="./bin/" />
		<property name="produkt.kompilaty" value="./bin/classes/" />
	    <property name="produkt.archiwum" value="./archiw-jar" />
		<property name="produkt.archiwum.¼ród³a" value="zrodla.jar" />
		<property name="produkt.archiwum.kompilaty" value="skompil.jar" />
		<property name="¼ród³a" value="./src" />
		<property name="biblioteka" value="./lib" />
	
		<path id="projekt.¶cie¿ki">
	        <pathelement location="bin"/>
	        <pathelement location="lib/log4j-1.2.16.jar"/>
		</path>
	
    	<target name="czyszczenie" description="Usuwa katalogi ze skompilowanym kodem">
            <delete includeemptydirs="true" failonerror="no">
            	<fileset dir="${produkt.kompilaty}" includes="**/*" />
            </delete>
            <delete includeemptydirs="true" failonerror="no">
            	<fileset dir="${produkt}" includes="**/*" />
            </delete>
			<delete includeemptydirs="true" failonerror="no">
    			<fileset dir="${produkt.archiwum}" includes="**/*" />
    		</delete>
      	</target>

		<target name="struktura" depends="czyszczenie" description="Tworzy strukturê projektu">
			<mkdir dir="${produkt}" />
			<mkdir dir="${produkt.kompilaty}" />
			<mkdir dir="${produkt.archiwum}" />
		</target>

		<target name="kompilacja" depends="struktura" description="Kompiluje kod programu">
			<javac srcdir="${¼ród³a}" destdir="${produkt.kompilaty}" >
				<src path="${¼ród³a}"/>
			    <classpath refid="projekt.¶cie¿ki"/>
			</javac>
		</target>
	
		<target name="plikijar" depends="kompilacja" description="Tworzy pliki jar: ze ¼ród³ami i z kompilatami">
            <jar destfile="${produkt.archiwum}/${produkt.archiwum.¼ród³a}">
                    <fileset dir="${¼ród³a}" />
            </jar>
            <jar destfile="${produkt.archiwum}/${produkt.archiwum.kompilaty}">
                    <fileset dir="${produkt.kompilaty}" />
        	</jar>
		</target>

</project>